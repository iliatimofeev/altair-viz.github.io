

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Frequently Asked Questions &mdash; Altair 2.2.0dev0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/altair-plot.css" type="text/css" />
  <link rel="stylesheet" href="../_static/altair-gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Display Troubleshooting" href="troubleshooting.html" />
    <link rel="prev" title="Customizing Visualizations" href="customization.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Altair
          

          
            
            <img src="../_static/altair-logo-light.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.2.0dev0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/starting.html">Basic Statistical Visualization</a></li>
</ul>
<p class="caption"><span class="caption-text">Gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery/index.html">Example Gallery</a></li>
</ul>
<p class="caption"><span class="caption-text">User Guide</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="data.html">Specifying Data in Altair</a></li>
<li class="toctree-l1"><a class="reference internal" href="encoding.html">Encodings</a></li>
<li class="toctree-l1"><a class="reference internal" href="marks.html">Marks</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform.html">Data Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="selections.html">Selections: Building Blocks of Interactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Top-Level Chart Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="compound_charts.html">Compound Charts: Layer, HConcat, VConcat, Repeat, Facet</a></li>
<li class="toctree-l1"><a class="reference internal" href="saving_charts.html">Saving Altair Charts</a></li>
<li class="toctree-l1"><a class="reference internal" href="customization.html">Customizing Visualizations</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#does-altair-work-with-pycharm-spyder-my-favorite-ide">Does Altair work with PyCharm/Spyder/&lt;my favorite IDE&gt;</a></li>
<li class="toctree-l2"><a class="reference internal" href="#i-tried-to-make-a-plot-but-it-doesn-t-show-up">I tried to make a plot but it doesn’t show up</a></li>
<li class="toctree-l2"><a class="reference internal" href="#why-does-altair-lead-to-such-extremely-large-notebooks">Why does Altair lead to such extremely large notebooks?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#maxrowserror-how-can-i-plot-large-datasets">MaxRowsError: How can I plot Large Datasets?</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#passing-data-by-url">Passing Data by URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disabling-maxrows">Disabling MaxRows</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Display Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="renderers.html">Altair Renderers</a></li>
<li class="toctree-l1"><a class="reference internal" href="API.html">API Reference</a></li>
</ul>
<p class="caption"><span class="caption-text">Case Studies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../case_studies/exploring-weather.html">Exploring Seattle Weather</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="importing.html">Importing Vega &amp; Vega-Lite Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="display_frontends.html">Displaying Charts in Various Frontends</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_renderers.html">Customizing Renderers</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_transformers.html">Data transformers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Altair</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Frequently Asked Questions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/user_guide/faq.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="frequently-asked-questions">
<span id="id1"></span><h1>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="does-altair-work-with-pycharm-spyder-my-favorite-ide">
<span id="faq-other-ides"></span><h2>Does Altair work with PyCharm/Spyder/&lt;my favorite IDE&gt;<a class="headerlink" href="#does-altair-work-with-pycharm-spyder-my-favorite-ide" title="Permalink to this headline">¶</a></h2>
<p>Altair can be used to create chart specifications with any frontend, but in
order to <em>render</em> those charts requires executing the javascript code that
turns the JSON specification into a visual chart.</p>
<p>There are extensions included in JupyterLab, Jupyter Notebook, Colab, Hydrogen,
and nteract that know how to automatically perform this rendering (see
<a class="reference internal" href="../getting_started/installation.html#installation"><span class="std std-ref">Installation</span></a> for details). If you’re using another frontend, you’ll have
to figure out how to run that javascript rendering in the most convenient way
for you.</p>
<p>The easiest approach is to use the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Chart.serve()</span></code> method, which will convert
the chart to HTML, start a webserver, and open your default browser to view the
chart. See <a class="reference internal" href="display_frontends.html#display-general"><span class="std std-ref">Working in non-Notebook Environments</span></a> for more information.</p>
<p>If you would like to manually save the chart to an html file in order to view it
with a browser, you can use the <code class="xref py py-meth docutils literal notranslate"><span class="pre">Chart.save()</span></code> method; for example
<code class="docutils literal notranslate"><span class="pre">chart.save('filename.html')</span></code>.</p>
</div>
<div class="section" id="i-tried-to-make-a-plot-but-it-doesn-t-show-up">
<span id="faq-no-display"></span><h2>I tried to make a plot but it doesn’t show up<a class="headerlink" href="#i-tried-to-make-a-plot-but-it-doesn-t-show-up" title="Permalink to this headline">¶</a></h2>
<p>There are two basic reasons that a chart might not show up:</p>
<ol class="arabic simple">
<li>You have not installed and/or enabled the appropriate renderer for your
frontend, which means charts cannot be displayed.</li>
<li>You have inadvertently created an invalid chart, and there is a javascript
error preventing it from being displayed.</li>
</ol>
<p>For details on how to trouble-shoot these kinds of display issues on various
front-ends, see <a class="reference internal" href="troubleshooting.html#display-troubleshooting"><span class="std std-ref">Display Troubleshooting</span></a>.</p>
</div>
<div class="section" id="why-does-altair-lead-to-such-extremely-large-notebooks">
<span id="altair-faq-large-notebook"></span><h2>Why does Altair lead to such extremely large notebooks?<a class="headerlink" href="#why-does-altair-lead-to-such-extremely-large-notebooks" title="Permalink to this headline">¶</a></h2>
<p>By design, Altair does not produce plots consisting of pixels, but plots
consisting of data plus a visualization specification. As discussed in
<a class="reference internal" href="data.html#user-guide-data"><span class="std std-ref">Specifying Data in Altair</span></a>, this data can be specified in one of several ways,
either via a pandas DataFrame, a file or URL, or a JSON data object.
When you specify the data as a pandas DataFrame, this data is converted to
JSON and included in its entirety in the plot spec.</p>
<p>For example, here is a simple chart made from a dataframe with three rows
of data:</p>
<div class="highlight-python notranslate" id="faq-rst-altair-source-0"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">altair</span> <span class="kn">as</span> <span class="nn">alt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]})</span>

<span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
     <span class="n">x</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span>
     <span class="n">y</span><span class="o">=</span><span class="s1">&#39;y&#39;</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">chart</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;$schema&#39;: &#39;https://vega.github.io/schema/vega-lite/v2.4.1.json&#39;,
 &#39;config&#39;: {&#39;view&#39;: {&#39;height&#39;: 300, &#39;width&#39;: 400}},
 &#39;data&#39;: {&#39;values&#39;: [{&#39;x&#39;: 1, &#39;y&#39;: 2}, {&#39;x&#39;: 2, &#39;y&#39;: 1}, {&#39;x&#39;: 3, &#39;y&#39;: 2}]},
 &#39;encoding&#39;: {&#39;x&#39;: {&#39;field&#39;: &#39;x&#39;, &#39;type&#39;: &#39;quantitative&#39;},
              &#39;y&#39;: {&#39;field&#39;: &#39;y&#39;, &#39;type&#39;: &#39;quantitative&#39;}},
 &#39;mark&#39;: &#39;line&#39;}
</pre></div>
</div>
<p>The resulting specification includes a representation of the data converted
to JSON format, and this specification is embedded in the notebook or web page
where it can be used by Vega-Lite to render the plot.
As the size of the data grows, this explicit data storage can lead to some
very large specifications, and by extension, some very large notebooks or
web pages.</p>
<p>The best way around this is to store the data in an external file, and
pass it to the chart by URL. You can do this manually if you wish:</p>
<div class="highlight-python notranslate" id="faq-rst-altair-source-1"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;data.json&#39;</span>
<span class="n">data</span><span class="o">.</span><span class="n">to_json</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;records&#39;</span><span class="p">)</span>

<span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;x:Q&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;y:Q&#39;</span>
<span class="p">)</span>
<span class="n">pprint</span><span class="p">(</span><span class="n">chart</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;$schema&#39;: &#39;https://vega.github.io/schema/vega-lite/v2.4.1.json&#39;,
 &#39;config&#39;: {&#39;view&#39;: {&#39;height&#39;: 300, &#39;width&#39;: 400}},
 &#39;data&#39;: {&#39;url&#39;: &#39;data.json&#39;},
 &#39;encoding&#39;: {&#39;x&#39;: {&#39;field&#39;: &#39;x&#39;, &#39;type&#39;: &#39;quantitative&#39;},
              &#39;y&#39;: {&#39;field&#39;: &#39;y&#39;, &#39;type&#39;: &#39;quantitative&#39;}},
 &#39;mark&#39;: &#39;line&#39;}
</pre></div>
</div>
<p>Alternatively, Altair provides a JSON data transformer that will automatically
store your data to disk and reference it by URL when a chart is rendered:</p>
<div class="highlight-python notranslate" id="faq-rst-altair-source-2"><div class="highlight"><pre><span></span><span class="n">chart</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
 <span class="n">x</span><span class="o">=</span><span class="s1">&#39;x:Q&#39;</span><span class="p">,</span>
 <span class="n">y</span><span class="o">=</span><span class="s1">&#39;y:Q&#39;</span>
<span class="p">)</span>

<span class="k">with</span> <span class="n">alt</span><span class="o">.</span><span class="n">data_transformers</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s1">&#39;json&#39;</span><span class="p">):</span>
    <span class="n">pprint</span><span class="p">(</span><span class="n">chart</span><span class="o">.</span><span class="n">to_dict</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>{&#39;$schema&#39;: &#39;https://vega.github.io/schema/vega-lite/v2.4.1.json&#39;,
 &#39;config&#39;: {&#39;view&#39;: {&#39;height&#39;: 300, &#39;width&#39;: 400}},
 &#39;data&#39;: {&#39;format&#39;: {&#39;type&#39;: &#39;json&#39;},
          &#39;url&#39;: &#39;altair-data-da466e59-a1e3-4659-a9a7-e64d09c85aa7.json&#39;},
 &#39;encoding&#39;: {&#39;x&#39;: {&#39;field&#39;: &#39;x&#39;, &#39;type&#39;: &#39;quantitative&#39;},
              &#39;y&#39;: {&#39;field&#39;: &#39;y&#39;, &#39;type&#39;: &#39;quantitative&#39;}},
 &#39;mark&#39;: &#39;line&#39;}
</pre></div>
</div>
<p>With either of these approaches, the data is now stored externally in a JSON
file rather than being embedded in the notebook,
leading to much more compact plot specifications.
The disadvantage, of course, is a loss of portability: if the notebook is
ever moved, the data file must accompany it or the plot may not display.</p>
<p>In the future, we plan to explore the idea of named datasets that can be
transparently embedded once in the notebook metadata and referenced by name
in plots throughout, but that is not implemented yet.</p>
</div>
<div class="section" id="maxrowserror-how-can-i-plot-large-datasets">
<span id="altair-faq-max-rows"></span><h2>MaxRowsError: How can I plot Large Datasets?<a class="headerlink" href="#maxrowserror-how-can-i-plot-large-datasets" title="Permalink to this headline">¶</a></h2>
<p>If you try to create a plot that will directly embed a dataset with more than
5000 rows, you will see a <code class="docutils literal notranslate"><span class="pre">MaxRowsError</span></code>:</p>
<div class="highlight-python notranslate" id="faq-rst-altair-source-3"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">)})</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>MaxRowsError: The number of rows in your dataset is greater than the maximum
              allowed (5000). For information on how to plot larger datasets
              in Altair, see the documentation.
</pre></div>
</div>
<p>This is not because Altair cannot handle larger datasets, but it is because it
is important for the user to think carefully about how large datasets are handled.
As noted above in <a class="reference internal" href="#altair-faq-large-notebook"><span class="std std-ref">Why does Altair lead to such extremely large notebooks?</span></a>, it is quite easy to end up with
very large notebooks if you make many visualizations of a large dataset, and this
error is a way of preventing that.</p>
<p>You can get around it in a few ways:</p>
<div class="section" id="passing-data-by-url">
<h3>Passing Data by URL<a class="headerlink" href="#passing-data-by-url" title="Permalink to this headline">¶</a></h3>
<p>The preferred solution to working with large datasets is to not embed the data
in the notebook, but rather pass it to the chart by URL.
This not only addresses the issue of large notebooks, but also leads to better
interactivity performance with large datasets.</p>
<p>As noted above, Altair has a <code class="docutils literal notranslate"><span class="pre">JSON</span></code> data transformer that will do
this transparently:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">data_transformers</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s1">&#39;json&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>With this data transformer enabled, each time you make a plot the data will be
serialized to disk and referenced by URL, rather than being embedded in the
notebook output.</p>
<p>Another approach is to manually save the data to file and reference it that way
(see <a class="reference internal" href="#altair-faq-large-notebook"><span class="std std-ref">Why does Altair lead to such extremely large notebooks?</span></a>).</p>
</div>
<div class="section" id="disabling-maxrows">
<h3>Disabling MaxRows<a class="headerlink" href="#disabling-maxrows" title="Permalink to this headline">¶</a></h3>
<p>If you are certain you would like to embed your dataset within the visualization
specification, you can disable the <code class="docutils literal notranslate"><span class="pre">MaxRows</span></code> check by modifying the arguments
to the default data transformer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">data_transformers</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">,</span> <span class="n">max_rows</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>If you choose this route, please be careful: if you are making multiple plots
with the dataset in a particular notebook, the notebook will grow very large
and performance may suffer.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="troubleshooting.html" class="btn btn-neutral float-right" title="Display Troubleshooting" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="customization.html" class="btn btn-neutral" title="Customizing Visualizations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016-2018, Altair Developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'2.2.0dev0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@3.3"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.4"></script>
      <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3.14"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>